{"version":3,"sources":["common/Pagination/Pagination.module.css","../node_modules/classnames/index.js","Components/Users/Users.module.css","common/Pagination/Pagination.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersContainer.jsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Pagination","totalItemsCount","pagesSize","currentPage","onChangePage","portionSize","pageCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginator","onClick","filter","p","map","cn","selectedPage","pageNumber","e","User","userFollowingProcess","follow","unfollow","user","name","to","id","alt","src","photos","small","userPhoto","ava","followed","disabled","some","Users","totalPagesCount","users","u","getUsers","state","usersPage","getPagesSize","getTotalPagesCount","getCurrentPage","getIsFetching","isFetching","getUserFollowingProcess","UsersContainer","props","requestUsers","this","Preloader","React","Component","compose","connect","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching"],"mappings":"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","file":"static/js/3.17d083ca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__39B4d\",\"pageNumber\":\"Pagination_pageNumber__1XDHb\",\"pages\":\"Pagination_pages__22-g7\",\"selectedPage\":\"Pagination_selectedPage__2C0Ci\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBox\":\"Users_userBox__HLQzJ\",\"ava\":\"Users_ava__3f0If\"};","import React, { useState } from \"react\";\r\nimport s from \"./Pagination.module.css\"\r\nimport cn from 'classnames'\r\n\r\nconst Pagination = ({ totalItemsCount, pagesSize, currentPage, onChangePage, portionSize = 10 }) => {\r\n  let pageCount = Math.ceil(totalItemsCount / pagesSize)\r\n  let pages = []\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  let portionCount = Math.ceil(pageCount / portionSize)\r\n  let [portionNumber, setPortionNumber] = useState(1)\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n  let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n  return <div className={s.paginator}>\r\n    {portionNumber > 1 && \r\n     <button onClick={() => {setPortionNumber(portionNumber - 1)}}> Prev </button>}\r\n    {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n      .map(p => <span className={ cn ({\r\n        [s.selectedPage]: currentPage === p\r\n      }, s.pageNumber)}\r\n    key={p}\r\n    onClick={(e) => onChangePage(p)}>\r\n    {p} </span>\r\n      )}\r\n      {portionCount > portionNumber && \r\n      <button onClick={() => {setPortionNumber(portionNumber + 1)}}> Next </button> }\r\n      </div>\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport userPhoto from '../../assets/images/user.png'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = ({ userFollowingProcess, follow, unfollow, user }) => {\r\n\r\n    return <div>\r\n        <div> {user.name} </div>\r\n        <div> <NavLink to={\"/profile/\" + user.id}>\r\n            <img alt=\"\" src={user.photos.small != null ? user.photos.small : userPhoto} className={s.ava} />\r\n        </NavLink>\r\n        </div>\r\n        <div> {user.followed\r\n            ? <button disabled={userFollowingProcess.some(id => id === user.id)} onClick={() => {\r\n                unfollow(user.id)\r\n            }} > UNFOLLOW </button>\r\n            : <button disabled={userFollowingProcess.some(id => id === user.id)} onClick={() => {\r\n                follow(user.id)\r\n            }} > FOLLOW </button>}\r\n        </div>\r\n    </div> \r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport Pagination from \"../../common/Pagination/Pagination.jsx\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({ totalPagesCount, pagesSize, currentPage, userFollowingProcess, follow, unfollow, onChangePage, users }) => {\r\n\r\n  return <div>\r\n    <Pagination\r\n      totalItemsCount={totalPagesCount} \r\n      pagesSize={pagesSize} \r\n      currentPage={currentPage} \r\n      onChangePage={onChangePage} \r\n      />\r\n      <div>\r\n    {\r\n      users.map(u => <User \r\n        userFollowingProcess={userFollowingProcess} \r\n        follow={follow} \r\n        unfollow={unfollow} \r\n        user={u}\r\n        key={u.id} />)\r\n    }\r\n    </div> \r\n  </div>\r\n}\r\n\r\nexport default Users","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPagesSize = (state) => {\r\n    return state.usersPage.pagesSize\r\n}\r\nexport const getTotalPagesCount = (state) => {\r\n    return state.usersPage.totalPagesCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getUserFollowingProcess = (state) => {\r\n    return state.usersPage.userFollowingProcess\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    followSuccess, \r\n    setCurrentPage, \r\n    toggleIsFetching, \r\n    unfollowSuccess,\r\n    requestUsers,\r\n    follow,\r\n    unfollow\r\n} from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, \r\n         getIsFetching, \r\n         getPagesSize, \r\n         getTotalPagesCount, \r\n         getUserFollowingProcess,\r\n         getUsers } from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n      this.props.requestUsers( this.props.pagesSize, this.props.currentPage)\r\n      }\r\n\r\n      onChangePage = (pageNumber) => {\r\n        this.props.requestUsers(this.props.pagesSize, pageNumber)\r\n      }\r\n  \r\n  render() {\r\n    return <>\r\n        {this.props.isFetching? <Preloader/>: null}\r\n        < Users {...this.props} \r\n                {...this }/>\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pagesSize: getPagesSize(state),\r\n        totalPagesCount: getTotalPagesCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        userFollowingProcess: getUserFollowingProcess(state)\r\n    }\r\n}\r\n\r\nexport default compose (\r\n  connect(mapStateToProps, \r\n    { followSuccess, unfollowSuccess, setCurrentPage,\r\n    toggleIsFetching, requestUsers, follow, unfollow }),\r\n) (UsersContainer)\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}